<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //Json ：数据交换格式，语法：类似JS对象的语法
        /*
        1.属性名称必须用双引号
        2.属性名（键值）必须是字符串类型
        3.值的类型是任意的，常用类型的是对象，数组。
        */
        {
            let json = {
                "name": "zhangsan",
                "age": 20
            }//json对象
        }
        //作用1:和web服务器进行数据传输
        //str模拟服务器返回的数据
        {
            let str = '{"name":"zhangsan","age":20}'
            let newobj = JSON.parse(str);//字符串转换为json对象
            console.log(newobj)
        }
        //如果服务器返回的是数组
        //JSON.parse 将 JSON 转换回对象。
        {
            let str = '["zhangsan","haha"]'
            console.log(JSON.parse(str));
        }
        //如果服务器返回的是日期
        {
            let str = '{"name":"zhangsan","birthday":"1995/01/01"}'
            let newobj = JSON.parse(str);
            //json不能转换日期对象，自己手动转换为日期对象
            let date = new Date(newobj.birthday);
            console.log(newobj, date.getFullYear())
        }
        //作用2:发送数据到web服务器
        {
            let json = {
                "name": "zhangsan",
                "age": 20
            }
            //转换成字符串
            //JSON.stringify 将对象转换为 JSON
            console.log("json" + JSON.stringify(json))
        }
        {
            //发送数组
            let arr = ['a', 'b', 'c'];
            console.log(JSON.stringify(arr))
        }
        {
            let json = {
                "name": "zhangsan",
                "age": 20,
                "date": new Date(),
                "fn": function () {
                    console.log("fn");
                }
            }
            //特殊点：如果是日期的话，则自动转换成字符串类型，函数则回删除
            console.log("特殊情况:" + JSON.stringify(json))

            //json文件
        }
        {
            let str = '{"title":"Conference","date":"2017-11-30T12:00:00.000Z"}';
            let meetup = JSON.parse(str, function (key, value) {
                if (key == 'date') return new Date(value);
                return value;
            });
            alert(meetup.date.getDate());
        }
    </script>
</body>

</html>